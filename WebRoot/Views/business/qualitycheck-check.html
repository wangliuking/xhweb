<!-- 服务提供方审核运维质量抽查请求信息 -->
<div class="modal fade" id="checkWin1" tabindex="-1" role="dialog"
	aria-hidden="true">
	<div class="modal-dialog modal-sm">
		<div class="modal-content">
			<div class="color-line"></div>
			<div class="modal-header">
			</div>
			<div class="modal-body pad-0" style="margin:2px;padding:2px;">
				<form action="#" id="checkForm1" onSubmit="return false">	
					<div class="row" ng-show="false">
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>ID</label>&nbsp;<span class="text-danger">[*]</span> <input
									type="text" value="" class="form-control" name="id"
									required="required" ng-model="checkData.id">
							</div>
							
						</div>
					</div>	
					<div class="row">
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>审核意见</label>&nbsp;<span class="text-danger">[*]</span> <select
									 class="form-control" name="checked">
									<option value="1" selected="selected">审核通过</option>
									<option value="-1">拒绝</option>
								</select>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>备注</label>
								<textarea name="note1" rows="4" cols="10" class="form-control"></textarea>
							</div>
						</div>
					</div>
					<!-- row-------end -->
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger btn-sm"
					data-dismiss="modal">
					<i class="fa fa-remove"></i>&nbsp;关闭
				</button>
				<button type="button"
					class="btn btn-success btn-sm" id="check_btn1">
					<i class="fa fa-plus"></i>&nbsp;提交意见
				</button>
			</div>
		</div>
	</div>
</div>

<!-- 管理方上传文件（抽检计划），发送消息通知服务提供方；-->
<div class="modal fade" id="checkWin2" tabindex="-1" role="dialog"
	aria-hidden="true">
	<div class="modal-dialog modal-sm">
		<div class="modal-content">
			<div class="color-line"></div>
			<div class="modal-header ">
			</div>
			<div class="modal-body pad-0" style="margin:2px;padding:2px;">
				<form action="#" id="checkForm2" onSubmit="return false" enctype="multipart/form-data" method="POST">
					<div class="row" ng-show="false">
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>ID</label>&nbsp;<span class="text-danger">[*]</span> <input
									type="text" value="" class="form-control" name="id"
									required="required" ng-model="checkData.id">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group col-md-8">
								<label>抽检记录</label>&nbsp;<span class="text-danger">[*]</span> 
								<input type="file" name="filePath" id="filePath2" class="form-control"/> 
							</div>
							<div class="form-group col-md-4"style="margin-top:30px;" >
							    <input type="hidden" name="result" class="form-control"/> 
							    <input type="hidden" name="fileName"/> 
							    <input type="hidden" name="path"/> 
								<a href="#" onclick="xh.upload(2)" class="btn btn-minier btn-danger">上传</a>&nbsp;&nbsp;
								<span id="uploadResult2" style="color:red"></span>
							</div>
						</div>
					</div>
					<!-- <div class="row">
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>备注</label>
								<textarea name="note2" rows="4" cols="10" class="form-control"></textarea>
							</div>
						</div>
					</div> -->
					<!-- row-------end -->
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger btn-sm"
					data-dismiss="modal">
					<i class="fa fa-remove"></i>&nbsp;关闭
				</button>
				<button type="button" ng-disabled="form.$invalid"
					class="btn btn-success btn-sm" id="check_btn2">
					<i class="fa fa-plus"></i>&nbsp;提交
				</button>
			</div>
		</div>
	</div>
</div>

<!--服务提供方查阅该抽检计划消息后，向管理方发送命令接收消息； -->
<div class="modal fade" id="checkWin3" tabindex="-1" role="dialog"
	aria-hidden="true">
	<div class="modal-dialog modal-sm">
		<div class="modal-content">
			<div class="color-line"></div>
			<div class="modal-header ">
			</div>。、
			<div class="modal-body pad-0" style="margin:2px;padding:2px;">
				<form action="#" id="checkForm3" onSubmit="return false" enctype="multipart/form-data" method="POST">
					<div class="row" ng-show="false">
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>ID</label>&nbsp;<span class="text-danger">[*]</span> <input
									type="text" value="" class="form-control" name="id"
									required="required" ng-model="checkData.id">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group col-md-8">
								<label>抽检计划下载链接</label>&nbsp;</span> 
								<a href="#" title="点击下载文件" onclick="xh.download()" style="color:red">{{checkData.fileName1}}</a>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>审核意见</label>&nbsp;<span class="text-danger">[*]</span> <select
									 class="form-control" name="checked">
									<option value="3" selected="selected">准备抽检</option>
									<option value="1">拒绝</option>
								</select>
							</div>
						</div>
					</div>	
					<div class="row">
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>备注</label>
								<textarea name="note2" rows="4" cols="10" class="form-control"></textarea>
							</div>
						</div>
					</div>
					<!-- row-------end -->
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger btn-sm"
					data-dismiss="modal">
					<i class="fa fa-remove"></i>&nbsp;关闭
				</button>
				<button type="button" ng-disabled="form.$invalid"
					class="btn btn-success btn-sm" id="check_btn3">
					<i class="fa fa-plus"></i>&nbsp;提交
				</button>
			</div>
		</div>
	</div>
</div>

<!-- 服务提供方向管理方发送抽检状态恢复确认消息；  -->
<div class="modal fade" id="checkWin4" tabindex="-1" role="dialog"
	aria-hidden="true">
	<div class="modal-dialog modal-sm">
		<div class="modal-content">
			<div class="color-line"></div>
			<div class="modal-header ">
			</div>
			<div class="modal-body pad-0" style="margin:2px;padding:2px;">
				<form action="#" id="checkForm4" onSubmit="return false" enctype="multipart/form-data" method="POST">
					<div class="row" ng-show="false">
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>ID</label>&nbsp;<span class="text-danger">[*]</span> <input
									type="text" value="" class="form-control" name="id"
									required="required" ng-model="checkData.id">
							</div>
							
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group col-md-8">
								<label>运维质量审核消息</label>&nbsp;<span class="text-danger">[*]</span> 
								<input type="file" name="filePath" id="filePath2" class="form-control"/> 
							</div>
							<div class="form-group col-md-4"style="margin-top:30px;" >
							    <input type="hidden" name="result" class="form-control"/> 
							    <input type="hidden" name="fileName"/> 
							    <input type="hidden" name="path"/> 
								<a href="#" onclick="xh.upload(2)" class="btn btn-minier btn-danger">上传</a>&nbsp;&nbsp;
								<span id="uploadResult2" style="color:red"></span>
							</div>
						</div>
					</div>

					<!-- <div class="row">
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>备注</label>
								<textarea name="note2" rows="4" cols="10" class="form-control"></textarea>
							</div>
						</div>
					</div> -->
					<!-- row-------end -->
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger btn-sm"
					data-dismiss="modal">
					<i class="fa fa-remove"></i>&nbsp;关闭
				</button>
				<button type="button" ng-disabled="form.$invalid"
					class="btn btn-success btn-sm" id="check_btn4">
					<i class="fa fa-plus"></i>&nbsp;提交
				</button>
			</div>
		</div>
	</div>
</div>


<!-- 管理方接收到状态恢复消息后，对状态恢复消息进行审核；
审核通过则流程结束；
审核不通过则向服务提供方发出重新提交状态恢复消息；
 -->
<div class="modal fade" id="checkWin5" tabindex="-1" role="dialog"
	aria-hidden="true">
	<div class="modal-dialog modal-sm">
		<div class="modal-content">
			<div class="color-line"></div>
			<div class="modal-header ">
			</div>
			<div class="modal-body pad-0" style="margin:2px;padding:2px;">
				<form action="#" id="checkForm5" onSubmit="return false" enctype="multipart/form-data" method="POST">
					<div class="row" ng-show="false">
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>ID</label>&nbsp;<span class="text-danger">[*]</span> <input
									type="text" value="" class="form-control" name="id"
									required="required" ng-model="checkData.id">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group col-md-8">
								<label>方案审核信息下载链接</label>&nbsp;</span> 
								<a href="#" title="点击下载文件" onclick="xh.download()" style="color:red">{{checkData.fileName2}}</a>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>审核意见</label>&nbsp;<span class="text-danger">[*]</span> <select
									 class="form-control" name="checked">
									<option value="5" selected="selected">通过</option>
									<option value="3">拒绝</option>
								</select>
							</div>
						</div>
					</div>
					<div class="row"> 
						<div class="col-md-12">
							<div class="form-group col-md-12">
								<label>备注</label>
								<textarea name="note3" rows="4" cols="10" class="form-control"></textarea>
							</div>
						</div>
					</div>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger btn-sm"
					data-dismiss="modal">
					<i class="fa fa-remove"></i>&nbsp;关闭
				</button>
				<button type="button" ng-disabled="form.$invalid"
					class="btn btn-success btn-sm" id="check_btn5">
					<i class="fa fa-plus"></i>&nbsp;提交
				</button>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
	$("#check_btn1").click(function() {
		$('#checkForm1').submit();
	});
	$("#check_btn2").click(function() {
		if ($("input[name='result']").val() != 1) {
			alert("请先上传文件！");
			return false;
		}
		$('#checkForm2').submit();
	});
	$("#check_btn3").click(function() {
		$('#checkForm3').submit();
	});
	$("#check_btn4").click(function() {
		if ($("input[name='result']").val() != 1) {
			alert("请先上传文件！");
			return false;
		}
		$('#checkForm4').submit();
	});
	$("#check_btn5").click(function() {
		$('#checkForm5').submit();
	});
	var faIcon = {
		valid : 'fa fa-check-circle fa-lg text-success',
		invalid : 'fa fa-times-circle fa-lg',
		validating : 'fa fa-refresh'
	};
	//管理方审核提交
	$('#checkForm1').bootstrapValidator({
		excluded : [ ':disabled' ],
		/* feedbackIcons: faIcon, */
		fields : {
		}
	}).on('success.form.bv', function(e, data) {
		e.preventDefault();
		xh.check1();
	});
	//服务提供方处理
	$('#checkForm2').bootstrapValidator({
		excluded : [ ':disabled' ],
		/* feedbackIcons: faIcon, */
		fields : {
		}
	}).on('success.form.bv', function(e, data) {
		e.preventDefault();
		xh.check2();
	});
	
	$('#checkForm3').bootstrapValidator({
		excluded : [ ':disabled' ],
		/* feedbackIcons: faIcon, */
		fields : {
		}
	}).on('success.form.bv', function(e, data) {
		e.preventDefault();
		xh.check3();
	});
	//用户
	$('#checkForm4').bootstrapValidator({
		excluded : [ ':disabled' ],
		/* feedbackIcons: faIcon, */
		fields : {
		}
	}).on('success.form.bv', function(e, data) {
		e.preventDefault();
		xh.check4();
	});
	$('#checkForm5').bootstrapValidator({
		excluded : [ ':disabled' ],
		/* feedbackIcons: faIcon, */
		fields : {
		}
	}).on('success.form.bv', function(e, data) {
		e.preventDefault();
		xh.check5();
	});
</script>
<script>
	$(function() {
		$("[data-toggle='tooltip']").tooltip();
	});
</script>